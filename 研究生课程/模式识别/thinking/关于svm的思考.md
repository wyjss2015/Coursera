#关于SVM准则函数推导中部分细节的思考
##推导出的最终的需要优化的准则函数形式:
**公式(1):**
 * max(1/||w||)
 * s.t. yi(wxi+b) >= 1, i=1...n

##问题：
从SVM最初的定义出发, 我们需要优化的准则函数应该是:
**公式(2):**
 * max(g(x')/||w||)
 * s.t. y'(wx'+b) = 1
 * 其中x'为距离超平面最近的点, 也就是支持向量,g(x) = y(wx+b)

**为什么最终可以将分子中的最小函数间隔值转化成1并对w加以约束呢？**对于这个问题在网上很多介绍SVM的博客上基本都认为是等价的很简单带过，确实从直觉上理解是等价的，但是要想明白总是没绕过弯来，具体可以看看其他博客的解释，现在算是想明白了，下面说说我对此的思考，也希望能对需要的同学提供参考
(**剧透:**其实最终的公式(1)里面的约束跟最初定义的公式式(2)并不等价，w的解空间松弛了，但是从整个优化计算过程看，包括目标函数的形式和线性不等式约束的形式，最终结果是等价的)

##解释
以下是基于线性可分情况的讨论。
1. 假设最终求得超平面记作P，参数为w,由于任一个超平面其代数形式中的参数w可以有无穷多种，比如a*w，a为任意不为零的实数.
2. 为了是最终只求得一个确定的w，我们可以约定:离分离超平面最近的点函数间隔等于1，当然你也可以随便约定离分离超平面第二近的点的函数间隔等于5，仔细想一想，做完这样的约定之后，在给定数据和分离超平面，表示超平面的代数方程中的w是不是就确定了？同意的话，接着往下
3. 在**最终**的准则函数，也就是公式(1)，中约定的是：离分离超平面最近的点函数间隔等于1，那么我们**最初**定义的准则函数，也就是公式(2)，就可以转化成如下:
 **公式(3):**
  * max(1/||w||)
  * s.t. y'(wx'+b) = 1
  * 其中x'为距离超平面最近的点
  * 
4. 公式(3)是不是和最终的公式(1)很像？他们是等价的吗？形式上看肯定不是啊，假设P:公式(3)中约束离分离超平面最近的点其函数间隔等于1，Q:公式(1)中约束数据中所有点的函数间隔都大于等于1，显然P能推出Q，而Q不能推出P，也就是公式(1)中w的解空间比公式(3)中的大。虽然公式(3)和最初问题定义等价，是精确的，但是公式(3)你必须找到离超平面最近的点，显然不好利用数学工具进行优化求解。而公式(1)则可以，因为你不需要区分样本点，统一人扔到一个公式里面。
5. 那么从两个公式的整体上看，他们最终的计算结果会一致吗？答案是:会的。下面我使用反证法进行论证。
 1. 假设优化公式(1)得到的解w，使得离由w确定的超平面最近的点，记为x，函数间隔大于1。也就是y(wx+b)>1，假设y(wx+b)=a，a>1
 2. 那么上式两边同除以a，得到y(wx+b)/a=1，记w'=w/a，显然||w'||<||w||，也就是1/||w'|| > 1/||w||
 3. 所以存在w'使得公式(1)目标函数1/||w||更优，与假设矛盾
 4. 综上，公式(1)最终得到的结果w，一定使得y(wx+b)=1，x为离超平面最近的点，与公式(3)等价，尽管公式(1)对公式(3)进行了松弛
6. 之所以最终计算结果会等价，跟目标函数max(1/||w||)和线性不等式约束y(wx+b)>=1有关，因为w减小，y(wx+b)减小，目标函数增大，所以当y(wx+b)=1时，w最小，目标函数最大，也就是说要使目标函数最优，离超平面最近的点x函数间隔y(wx+b)一定等于1